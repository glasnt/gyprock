<html>
<head>
<script src="js/jquery-1.11.1.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css"/>
<link rel="stylesheet" type="text/css" href="css/font-awesome.min.css"/>
</head>
<style>
.form-inline {
    min-width: 0;
    width: auto;
    display: inline;
}
</style>

<body onpageshow="setSize()" >
<body>

<div class="container">
	<div class="jumbotron">
		<h1>Gyprock</h1>
		<form id="user" class="form-inline">
		Generating <input class="form-control input-sm" id="width" type="number">x<input class="form-control input-sm" id="height" type="number"></form> wallpapers, just for you<span id="feedback"> &lt;3</span>
	</div>

	<div class="row marketing">
		<div class="col-lg-12">
			<% @wallpapers.each do |w| 
				%><a href="javascript:getWallpaper(<%= w %>)"><img src="<%= js_base_image w %>" class="preview"></a>
			<% end %>
		</div>
	</div>
	<footer class="footer">
	<p align="right">
<a href="http://glasnt.com">glasnt</a> |
<a href="http://github.com/glasnt/gyprock"><i class="fa fa-github-square"></i></a> | 
<a href="http://twitter.com/glasnt"><i class="fa fa-twitter"></i></a>
</p>
	</footer>	
</div>
<script>
var w, h

function setSize () { 
	w = window.screen.width
	h = window.screen.height

	user_width = document.forms["user"]["width"]
	user_height = document.forms["user"]["height"]

	if (user_width.value === "") { user_width.value = w }
	if (user_height.value === "") { user_height.value = h }
}


function getWallpaper(id) { 
	width = document.forms["user"]["width"].value || w
	height =  document.forms["user"]["height"].value || h

	if ((width === parseInt(width).toString()) && (height === parseInt(height).toString()))  {
		window.location.href = "wallpaper/"+id+"/"+width+"/"+height
	} else { 
		document.getElementById("feedback").innerHTML=". Come on now, man, just use sensible integers"
	}
} 

</script>
</body>
</html>
